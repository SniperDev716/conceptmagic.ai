"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[128],{7128:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var a=n(4165),i=n(5861),o=n(3433),s=n(1413),r=n(9439),l=n(2791),c=(n(9434),n(7689)),u=n(586),d=n(3655),h=n(6517),p=n(7027),f=n(6106),x=n(914),m=n(9389),g=n(183),v=n(4622),Z=n(7309),j=n(2351),w=n(8455),b=n(4771),y=n(8890),k=n.n(y),N=n(5169),S=n(8300),C=(n(8868),n(2752)),I=n(184),_=function(e){var t=e.selected;return(0,I.jsxs)("div",{style:t?{left:"4px",top:"4px",position:"absolute",zIndex:"1"}:{display:"none"},children:[(0,I.jsx)("svg",{style:{fill:"white",position:"absolute"},width:"24px",height:"24px",children:(0,I.jsx)("circle",{cx:"12.5",cy:"12.2",r:"8.292"})}),(0,I.jsx)("svg",{style:{fill:"#06befa",position:"absolute"},width:"24px",height:"24px",children:(0,I.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})]})},z={transition:"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s"},L={transform:"translateZ(0px) scale3d(0.9, 0.9, 1)",transition:"transform .135s cubic-bezier(0.0,0.0,0.2,1),opacity linear .15s"},P={backgroundColor:"#eee",cursor:"pointer",overflow:"hidden",position:"relative"},D=function(e){var t=e.index,n=e.photo,a=e.margin,i=e.direction,o=e.top,c=e.left,u=e.selected,d=e.onClick,h=(0,l.useState)(u==t),p=(0,r.Z)(h,2),f=p[0],x=p[1],m=(100-30/n.width*100)/100,g=(100-30/n.height*100)/100;L.transform="translateZ(0px) scale3d(".concat(m,", ").concat(g,", 1)"),"column"===i&&(P.position="absolute",P.left=c,P.top=o);return(0,l.useEffect)((function(){x(u==t)}),[u]),(0,I.jsxs)("div",{style:(0,s.Z)({margin:a,height:n.height,width:n.width},P),className:f?"":"not-selected",children:[(0,I.jsx)(_,{selected:!!f}),(0,I.jsx)("img",(0,s.Z)((0,s.Z)({alt:n.title,style:f?(0,s.Z)((0,s.Z)({},z),L):(0,s.Z)({},z)},n),{},{onClick:function(e){d(t)}})),(0,I.jsx)("style",{children:".not-selected:hover{outline:2px solid #06befa}"})]})},T=(u.Z.Content,u.Z.Sider,d.Z.Title);d.Z.Text,h.Z.Dragger;var R=function(){var e=arguments,t=(0,c.s0)(),n=(0,l.useState)((0,S.cF)("image_type")||"Product Renderings"),u=(0,r.Z)(n,2),d=u[0],y=u[1],_=(0,l.useState)(!1),z=(0,r.Z)(_,2),L=z[0],P=z[1],R=(0,l.useState)(!1),F=(0,r.Z)(R,2),O=F[0],U=F[1],A=(0,l.useState)(!1),E=(0,r.Z)(A,2),M=E[0],q=E[1],B=(0,l.useState)([]),H=(0,r.Z)(B,2),J=H[0],K=H[1],W=(0,l.useState)(""),Y=(0,r.Z)(W,2),G=Y[0],Q=Y[1],V=(0,l.useState)(""),X=(0,r.Z)(V,2),$=X[0],ee=X[1],te=(0,l.useState)([]),ne=(0,r.Z)(te,2),ae=ne[0],ie=ne[1],oe=(0,l.useState)({}),se=(0,r.Z)(oe,2),re=se[0],le=se[1],ce=(0,l.useState)(-1),ue=(0,r.Z)(ce,2),de=ue[0],he=ue[1],pe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={query:d};e?(k()("#imagelistview .infinite-scroll-component").scrollTop(0),q(!0)):(t=(0,s.Z)((0,s.Z)({},t),re),U(!0)),(0,C.DN)(t).then((function(t){ie(e?t.data.images:[].concat((0,o.Z)(ae),(0,o.Z)(t.data.images))),le({bookmarks:t.data.bookmarks,token:t.data.token,cookie:t.data.cookie})})).catch((function(e){console.log(e)})).finally((function(){q(!1),U(!1)}))};(0,l.useEffect)((function(){pe(!0)}),[]);var fe=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var n,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!L){e.next=2;break}return e.abrupt("return");case 2:if(G){e.next=4;break}return e.abrupt("return",p.ZP.warning("Please input name your project!"));case 4:if(0!=(n=J.filter((function(e){return"done"==e.status})).map((function(e){var t;return null===(t=e.response)||void 0===t?void 0:t.path}))).length||-1!=de){e.next=7;break}return e.abrupt("return",p.ZP.warning("Please choose your inspiration image"));case 7:return P(!0),e.prev=8,e.next=11,(0,C.aR)({fileLists:-1==de?n:[ae[de].src],name:G});case 11:i=e.sent,t("/result/".concat(i.data.id)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),console.log(e.t0);case 18:P(!1);case 19:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(){return e.apply(this,arguments)}}();return(0,I.jsx)("div",{className:"text-center max-w-5xl w-screen mx-auto p-2",children:(0,I.jsxs)(f.Z,{gutter:[24,24],className:"mt-6",children:[(0,I.jsx)(x.Z,{span:24,children:(0,I.jsx)(T,{level:3,children:"Select an image that you'd like to use as a starting point."})}),(0,I.jsxs)(x.Z,{span:24,className:"relative",children:[(0,I.jsx)("div",{className:"max-w-xl absolute z-50 right-10 top-5",children:(0,I.jsx)(m.Z.Search,{size:"large",className:"[&_input]:opacity-70 [&_input:hover]:opacity-100 [&_input:focus]:opacity-100",onSearch:function(){pe(!0)},loading:M,value:d,onChange:function(e){return y(e.target.value)}})}),(0,I.jsx)("div",{id:"imagelistview",className:"max-h-[calc(100vh_-_425px)] overflow-y-auto overflow-x-hidden border-4 border-solid border-blue-400 rounded-lg",children:(0,I.jsx)(b.Z,{dataLength:ae.length,next:function(){pe()},hasMore:!0,scrollableTarget:"imagelistview",height:"calc(100vh - 440px)",loader:(0,I.jsxs)("div",{className:"mt-2 flex",children:[(0,I.jsx)("div",{className:"w-1/4 p-1",children:(0,I.jsx)(g.Z.Image,{className:"!w-full",active:!0,loading:O},Date.now())}),(0,I.jsx)("div",{className:"w-1/4 p-1",children:(0,I.jsx)(g.Z.Image,{className:"!w-full",active:!0,loading:O},Date.now())}),(0,I.jsx)("div",{className:"w-1/4 p-1",children:(0,I.jsx)(g.Z.Image,{className:"!w-full",active:!0,loading:O},Date.now())}),(0,I.jsx)("div",{className:"w-1/4 p-1",children:(0,I.jsx)(g.Z.Image,{className:"!w-full",active:!0,loading:O},Date.now())})]}),scrollThreshold:1,children:ae.length>0&&(0,I.jsx)(w.Z,{photos:ae,direction:"column",columns:4,onClick:function(t){console.log(t.target,e)},renderImage:function(e){var t=e.index,n=e.left,a=e.top,i=e.key,o=e.photo;return(0,I.jsx)(D,{selected:de,margin:"2px",direction:"column",index:t,photo:o,left:n,top:a,onClick:function(e){he(e),K([])}},i)}})})})]}),(0,I.jsx)(v.Z,{className:"!m-0",children:"Or"}),(0,I.jsx)(x.Z,{span:24,children:(0,I.jsx)(h.Z,{name:"file",multiple:!1,fileList:J,action:"".concat(N.Z.HOST_URL,"v1/upload"),showUploadList:!0,listType:"picture",accept:"image/*",headers:{Authorization:(0,S.cF)("token")},data:{oldFile:$},onChange:function(e){var t,n;"done"===e.file.status&&(ee(null===(t=e.file.response)||void 0===t?void 0:t.path),e.file.thumbUrl="".concat(N.Z.SOCKET_URL).concat(null===(n=e.file.response)||void 0===n?void 0:n.path));K(1==e.fileList.length?e.fileList:e.fileList.splice(1,1)),he(-1)},onRemove:function(e){var t;(0,C._I)({path:null===(t=e.response)||void 0===t?void 0:t.path}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},children:(0,I.jsx)(Z.ZP,{className:"",size:"large",icon:(0,I.jsx)(j.Z,{}),children:"Choose from your computer"})})}),(0,I.jsx)(x.Z,{span:24,children:(0,I.jsx)(m.Z,{type:"text",className:"text-center",size:"large",placeholder:"Name Your Project...",value:G,onChange:function(e){return Q(e.target.value)}})}),(0,I.jsx)(x.Z,{span:24,children:(0,I.jsx)("div",{className:"text-center",children:(0,I.jsx)(Z.ZP,{type:"primary",size:"large",onClick:fe,loading:L,children:"Next step"})})})]})})}},2752:function(e,t,n){n.d(t,{DN:function(){return c},Jo:function(){return s},ON:function(){return r},_I:function(){return o},aR:function(){return i},mW:function(){return l}});var a=n(3352),i=function(e){return(0,a.j0)("v1/getImageDescription",e)},o=function(e){return(0,a.j0)("v1/deleteFile",e)},s=function(e,t){return(0,a.A_)("v1/getConceptById/".concat(e),t)},r=function(e,t){return(0,a.j0)("v1/generateImage/".concat(e),t)},l=function(e){return(0,a.A_)("v1/getProjects",e)},c=function(e){return(0,a.j0)("v1/getImagesfromPin",e)}}}]);
//# sourceMappingURL=128.0805ded5.chunk.js.map