(self.webpackChunkclient=self.webpackChunkclient||[]).push([[647],{647:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>T});var n=r(2791),s=r(9434),a=r(7689),i=r(1087),c=r(9657),u=r(3655),o=r(6106),l=r(914),d=r(7309),h=r(2752),m=r(5169),f=r(9031),p=r(7892),v=r.n(p),g=r(3588),x=r(3473),y=r(7027),$=r(9428),b=r(4422),j=r(7128),M=r(8868),w=r(2254),S=r(184);const{Title:D}=u.default;const N=function(e){let{open:t,setOpen:r,price:i,planId:c,setSuccessful:u}=e;const o=(0,n.useRef)(),l=(0,n.useRef)(),h=(0,n.useRef)(),m=(0,g.useStripe)(),f=(0,g.useElements)(),p=(0,s.I0)(),v=((0,a.s0)(),(0,s.v9)((e=>e.auth.user))),[x,N]=((0,s.v9)((e=>e.auth.errors)),(0,n.useState)(1)),[_,O]=(0,n.useState)({}),[C,k]=(0,n.useState)(!1);return(0,S.jsx)($.Z,{className:"shadow-lg my-2",width:460,title:(0,S.jsxs)("div",{className:"text-center",children:[(0,S.jsx)(D,{level:3,className:"!mb-1",children:"7 Day Free Trial"})," ",(0,S.jsxs)(D,{level:5,className:"!m-0",children:["Beta Pricing: Only $",i," / Month"]})]}),open:t,centered:!0,footer:[],maskClosable:!1,maskStyle:{background:"#000a"},onCancel:()=>r(!1),children:(0,S.jsxs)("div",{className:"grid gap-2 m-auto",children:[(0,S.jsxs)("div",{className:"grid gap-2 px-4",children:[v.pm_last_four&&(0,S.jsxs)(b.ZP.Group,{onChange:e=>N(e.target.value),value:x,children:[(0,S.jsx)(b.ZP,{value:1,children:"Use Old Card"}),(0,S.jsx)(b.ZP,{value:2,children:"Use New Card"})]}),(2===x||!v.pm_last_four)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(g.CardNumberElement,{className:"border border-solid border-gray-400 py-3 px-4 rounded bg-white mt-4",onChange:e=>{e.error?O({..._,number:e.error.message}):O({..._,number:null}),e.complete&&l.current.focus()},onReady:e=>o.current=e}),_.number&&(0,S.jsx)("div",{className:"text-sm text-red-500",children:_.number}),(0,S.jsxs)("div",{className:"flex flex-wrap justify-between",children:[(0,S.jsxs)("div",{className:"w-[50%]",children:[(0,S.jsx)(g.CardExpiryElement,{className:"border border-solid border-gray-400 py-3 px-4 rounded bg-white mt-4",onChange:e=>{e.error?O({..._,expiry:e.error.message}):O({..._,expiry:null}),e.complete?h.current.focus():e.empty&&o.current.focus()},onReady:e=>l.current=e}),_.expiry&&(0,S.jsx)("div",{className:"text-sm text-red-500",children:_.expiry})]}),(0,S.jsxs)("div",{className:"w-[40%]",children:[(0,S.jsx)(g.CardCvcElement,{className:"border border-solid border-gray-400 py-3 px-4 rounded bg-white mt-4",onChange:e=>{e.error?O({..._,cvc:e.error.message}):O({..._,cvc:null}),e.empty&&l.current.focus()},onReady:e=>h.current=e}),_.cvc&&(0,S.jsx)("div",{className:"text-sm text-red-500",children:_.cvc})]})]})]}),(0,S.jsx)(d.ZP,{loading:C,type:"primary",htmlType:"submit",className:"mt-4",disabled:!m||_.number||_.exp||_.cvc,size:"large",onClick:async()=>{try{var e,t,n,s,a,i;let o;var u;if(k(!0),!v.pm_last_four||v.pm_last_four&&2===x)if(o=await(null===m||void 0===m?void 0:m.createPaymentMethod({type:"card",card:f.getElement(g.CardNumberElement),billing_details:{name:v.name,email:v.email}})),null!==(u=o)&&void 0!==u&&u.error)return console.log(o.error),O({..._,[o.error.code.replace("incomplete_","")]:o.error.message}),void k(!1);let{data:l}=await(0,w.XW)({paymentMethod:null===(e=o)||void 0===e||null===(t=e.paymentMethod)||void 0===t?void 0:t.id,pm_type:null===(n=o)||void 0===n||null===(s=n.paymentMethod)||void 0===s?void 0:s.card.brand,pm_last_four:null===(a=o)||void 0===a||null===(i=a.paymentMethod)||void 0===i?void 0:i.card.last4,planId:c});p((0,M.PR)()),r(!1),k(!1)}catch(d){var o,l;console.log(d),k(!1),null!==(o=d.response)&&void 0!==o&&null!==(l=o.data)&&void 0!==l&&l.message?y.ZP.error(d.response.data.message):d.message&&y.ZP.error(d.message)}},children:"Start Trial"}),(0,S.jsx)("p",{className:"text-center text-gray-500 my-2 italic",children:"Cancel at Anytime"})]}),(0,S.jsx)(j.Z,{className:"mt-0"}),(0,S.jsxs)("div",{className:"flex items-center",children:[(0,S.jsx)("img",{src:"/imgs/user.png",alt:"User",className:"w-28 pr-4"}),(0,S.jsxs)("div",{className:"flex-1",children:[(0,S.jsx)("p",{className:"mb-2",children:"\"I honestly can't believe it's only $15 a month. I've gotten at least $500 worth of value within the first 20 minutes of using Concept.\""}),(0,S.jsx)("p",{className:"m-0 font-bold",children:"- Taylor Hewitt, CEO @ Andine"})]})]})]})})};var _=r(2074);const{Meta:O}=c.default,{Title:C,Text:k}=u.default,I=(0,x.J)(m.Z.stripePK);const T=function(){var e,t;const r=(0,s.I0)(),{id:u}=((0,a.s0)(),(0,a.UO)()),p=(0,s.v9)((e=>{var t;return null!==(t=e.plan.plans)&&void 0!==t?t:[]})),[x,y]=(0,n.useState)([]),[$,b]=(0,n.useState)(!1),[j,M]=(0,n.useState)({}),[D,C]=(0,n.useState)({});return(0,n.useEffect)((()=>{(0,h.mW)(u).then((e=>{y(e.data.projects)})).catch((e=>{console.log(e)})),0===p.length&&r((0,_.qY)()),(0,w.rE)().then((e=>{var t,r;M(null!==(t=e.data.activeSubscription)&&void 0!==t?t:{}),C(null!==(r=e.data.selectedSubscription)&&void 0!==r?r:{})}))}),[]),(0,S.jsxs)("div",{className:"text-center max-w-5xl w-screen mx-auto px-6 sm:px-2 p-2",children:[(0,S.jsxs)(o.Z,{gutter:[24,24],className:"md:mt-6 items-stretch",children:[(0,S.jsxs)(l.Z,{span:24,children:[(0,S.jsx)("h2",{className:"text-xl md:text-2xl",children:"My Projects"}),(0,S.jsx)("div",{className:"text-right",children:(0,S.jsx)(i.rU,{to:"/home",children:(0,S.jsx)(d.ZP,{type:"primary",icon:(0,S.jsx)(f.Z,{}),children:"New Project"})})})]}),x.map(((e,t)=>(0,S.jsx)(l.Z,{md:6,sm:8,xs:12,children:(0,S.jsx)(i.rU,{to:"/result/".concat(e._id),children:(0,S.jsx)(c.default,{hoverable:!0,style:{width:"100%",height:"100%"},cover:(0,S.jsx)("div",{className:"h-[150px] md:h-[200px] bg-cover bg-no-repeat bg-blue-200",style:{backgroundImage:e.inputImages[0].path.includes("https://")?"url(".concat(e.inputImages[0].path,")"):"url(".concat(m.Z.SOCKET_URL).concat(e.inputImages[0].path,")")}}),children:(0,S.jsx)(O,{title:e.name||"Untitled",description:(0,S.jsx)("small",{children:v()(e.createdAt).format("MM/DD/YY hh:mm A")})})},t)})},t))),(0,S.jsx)(l.Z,{span:24})]}),(0,S.jsx)(g.Elements,{stripe:I,nonce:"random-nonce",children:(0,S.jsx)(N,{open:$,setOpen:b,price:null===(e=p[0])||void 0===e?void 0:e.price,planId:null===(t=p[0])||void 0===t?void 0:t._id,setSuccessful:()=>{}})})]})}},2254:(e,t,r)=>{"use strict";r.d(t,{XW:()=>a,om:()=>i,rE:()=>s});var n=r(3352);const s=()=>(0,n.A_)("plans/getUserSubscription"),a=e=>(0,n.j0)("plans/createSubscription",e),i=e=>(0,n.j0)("plans/increasePlanLimit",e)},2752:(e,t,r)=>{"use strict";r.d(t,{DN:()=>o,Jo:()=>i,ON:()=>c,_I:()=>a,aR:()=>s,mW:()=>u});var n=r(3352);const s=e=>(0,n.j0)("v1/getImageDescription",e),a=e=>(0,n.j0)("v1/deleteFile",e),i=(e,t)=>(0,n.A_)("v1/getConceptById/".concat(e),t),c=(e,t)=>(0,n.j0)("v1/generateImage/".concat(e),t),u=(e,t)=>(0,n.A_)("v1/getProjects/".concat(e||""),t),o=e=>(0,n.j0)("v1/getImagesfromPin",e)},7892:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",s="second",a="minute",i="hour",c="day",u="week",o="month",l="quarter",d="year",h="date",m="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}},g=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},x={s:g,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),s=r%60;return(t<=0?"+":"-")+g(n,2,"0")+":"+g(s,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),s=t.clone().add(n,o),a=r-s<0,i=t.clone().add(n+(a?-1:1),o);return+(-(n+(r-s)/(a?s-i:i-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:o,y:d,w:u,d:c,D:h,h:i,m:a,s:s,ms:n,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",$={};$[y]=v;var b="$isDayjsObject",j=function(e){return e instanceof D||!(!e||!e[b])},M=function e(t,r,n){var s;if(!t)return y;if("string"==typeof t){var a=t.toLowerCase();$[a]&&(s=a),r&&($[a]=r,s=a);var i=t.split("-");if(!s&&i.length>1)return e(i[0])}else{var c=t.name;$[c]=t,s=c}return!n&&s&&(y=s),s||!n&&y},w=function(e,t){if(j(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new D(r)},S=x;S.l=M,S.i=j,S.w=function(e,t){return w(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var D=function(){function v(e){this.$L=M(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[b]=!0}var g=v.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(f);if(n){var s=n[2]-1||0,a=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)):new Date(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)}}return new Date(t)}(e),this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return S},g.isValid=function(){return!(this.$d.toString()===m)},g.isSame=function(e,t){var r=w(e);return this.startOf(t)<=r&&r<=this.endOf(t)},g.isAfter=function(e,t){return w(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<w(e)},g.$g=function(e,t,r){return S.u(e)?this[t]:this.set(r,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var r=this,n=!!S.u(t)||t,l=S.p(e),m=function(e,t){var s=S.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return n?s:s.endOf(c)},f=function(e,t){return S.w(r.toDate()[e].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},p=this.$W,v=this.$M,g=this.$D,x="set"+(this.$u?"UTC":"");switch(l){case d:return n?m(1,0):m(31,11);case o:return n?m(1,v):m(0,v+1);case u:var y=this.$locale().weekStart||0,$=(p<y?p+7:p)-y;return m(n?g-$:g+(6-$),v);case c:case h:return f(x+"Hours",0);case i:return f(x+"Minutes",1);case a:return f(x+"Seconds",2);case s:return f(x+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var r,u=S.p(e),l="set"+(this.$u?"UTC":""),m=(r={},r[c]=l+"Date",r[h]=l+"Date",r[o]=l+"Month",r[d]=l+"FullYear",r[i]=l+"Hours",r[a]=l+"Minutes",r[s]=l+"Seconds",r[n]=l+"Milliseconds",r)[u],f=u===c?this.$D+(t-this.$W):t;if(u===o||u===d){var p=this.clone().set(h,1);p.$d[m](f),p.init(),this.$d=p.set(h,Math.min(this.$D,p.daysInMonth())).$d}else m&&this.$d[m](f);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[S.p(e)]()},g.add=function(n,l){var h,m=this;n=Number(n);var f=S.p(l),p=function(e){var t=w(m);return S.w(t.date(t.date()+Math.round(e*n)),m)};if(f===o)return this.set(o,this.$M+n);if(f===d)return this.set(d,this.$y+n);if(f===c)return p(1);if(f===u)return p(7);var v=(h={},h[a]=t,h[i]=r,h[s]=e,h)[f]||1,g=this.$d.getTime()+n*v;return S.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||m;var n=e||"YYYY-MM-DDTHH:mm:ssZ",s=S.z(this),a=this.$H,i=this.$m,c=this.$M,u=r.weekdays,o=r.months,l=r.meridiem,d=function(e,r,s,a){return e&&(e[r]||e(t,n))||s[r].slice(0,a)},h=function(e){return S.s(a%12||12,e,"0")},f=l||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(p,(function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return S.s(t.$y,4,"0");case"M":return c+1;case"MM":return S.s(c+1,2,"0");case"MMM":return d(r.monthsShort,c,o,3);case"MMMM":return d(o,c);case"D":return t.$D;case"DD":return S.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(r.weekdaysMin,t.$W,u,2);case"ddd":return d(r.weekdaysShort,t.$W,u,3);case"dddd":return u[t.$W];case"H":return String(a);case"HH":return S.s(a,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return f(a,i,!0);case"A":return f(a,i,!1);case"m":return String(i);case"mm":return S.s(i,2,"0");case"s":return String(t.$s);case"ss":return S.s(t.$s,2,"0");case"SSS":return S.s(t.$ms,3,"0");case"Z":return s}return null}(e)||s.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,h,m){var f,p=this,v=S.p(h),g=w(n),x=(g.utcOffset()-this.utcOffset())*t,y=this-g,$=function(){return S.m(p,g)};switch(v){case d:f=$()/12;break;case o:f=$();break;case l:f=$()/3;break;case u:f=(y-x)/6048e5;break;case c:f=(y-x)/864e5;break;case i:f=y/r;break;case a:f=y/t;break;case s:f=y/e;break;default:f=y}return m?f:S.a(f)},g.daysInMonth=function(){return this.endOf(o).$D},g.$locale=function(){return $[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=M(e,t,!0);return n&&(r.$L=n),r},g.clone=function(){return S.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},v}(),N=D.prototype;return w.prototype=N,[["$ms",n],["$s",s],["$m",a],["$H",i],["$W",c],["$M",o],["$y",d],["$D",h]].forEach((function(e){N[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),w.extend=function(e,t){return e.$i||(e(t,D,w),e.$i=!0),w},w.locale=M,w.isDayjs=j,w.unix=function(e){return w(1e3*e)},w.en=$[y],w.Ls=$,w.p={},w}()}}]);
//# sourceMappingURL=647.9f53130f.chunk.js.map