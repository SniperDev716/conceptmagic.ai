"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[609],{9211:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var n=a(2791),l=a(9434),i=a(7689),s=a(1694),c=a.n(s),r=a(1692),o=a(4921),d=a(6106),u=a(914),m=a(8531),g=a(2556),h=a(7128),p=(a(8868),a(5169)),x=a(2752),f=a(3781);const v=a.p+"static/media/loading.ea020ef38ccfc2c36148.gif";const b=function(e){const t=(0,n.useRef)();return(0,n.useEffect)((()=>{t.current=e})),t.current};var j=a(184);const{TextArea:I}=r.default,{Title:w,Text:y}=o.default;const N=function(){var e,t,a,s;const r=(0,f.sV)(),{id:o}=(0,i.UO)(),w=(0,l.v9)((e=>e.app.isDarkMode)),[y,N]=(0,n.useState)([]),[S,E]=(0,n.useState)({}),[Z,k]=(0,n.useState)(0),[O,_]=(0,n.useState)(-1),[C,z]=(0,n.useState)([]),[A,T]=(0,n.useState)({}),[M,P]=(0,n.useState)([]),[R,G]=(0,n.useState)([]),[B,L]=(0,n.useState)([]),[W,U]=(0,n.useState)({}),D=b(S),H=b(W);(0,n.useEffect)((()=>{K()}),[]),(0,n.useEffect)((()=>(r&&(console.log("socket event added!"),r.on("IMAGE_GENERATED",(e=>{console.log("IMAGE_GENERATED"),K()})),r.on("IMAGE_PROCESS",(e=>{console.log("IMAGE_PROCESS"),W[e.id]&&H[e.id].status===W[e.id].status||K(),U((t=>({...t,[e.id]:{...e}})))}))),()=>{r&&(console.log("socket event removed!"),r.off("IMAGE_GENERATED"),r.off("IMAGE_PROCESS"))})),[r]);const K=()=>{(0,x.Jo)(o).then((e=>{E(e.data.concept),k(e.data.count),e.data.concept&&(G((t=>e.data.concept.resultImages.map(((e,a)=>t[a]?t[a]:e.prompt)))),N((t=>e.data.concept.resultImages.map(((e,a)=>!!t[a])))))})).catch((e=>{console.log(e)}))};return(0,n.useEffect)((()=>{var e,t;(null===S||void 0===S||null===(e=S.resultImages)||void 0===e?void 0:e.length)-(null===D||void 0===D||null===(t=D.resultImages)||void 0===t?void 0:t.length)==1&&window.scrollTo(0,document.body.scrollHeight)}),[null===S||void 0===S||null===(e=S.resultImages)||void 0===e?void 0:e.length]),(0,j.jsx)("div",{className:"text-center max-w-7xl w-screen mx-auto p-4",children:(0,j.jsxs)(d.Z,{gutter:[12,12],className:"sm:mt-6",children:[(0,j.jsx)(u.Z,{span:24,children:(null===(t=S.resultImages)||void 0===t?void 0:t.filter((e=>"completed"==e.status||"faild"==e.status)).length)>0?(0,j.jsxs)("h4",{className:"bg-purple-400 rounded-full p-2 px-3 !text-white sm:text-lg md:text-xl",children:["These images are ",(0,j.jsx)("span",{className:"text-black font-bold",children:"AI Generated"}),". Use words to change them however you want."]}):(0,j.jsxs)("h4",{className:"bg-purple-400 rounded-full p-2 px-3 !text-white sm:text-lg md:text-xl",children:["You are ",(0,j.jsxs)("span",{className:"text-black font-bold",children:[Z<8?8:Z,"th"]})," in line for the ",(0,j.jsx)("span",{className:"text-black font-bold",children:"Free Tier"}),". Please wait 3 minutes or ",(0,j.jsx)("span",{className:"text-purple-800 font-bold",children:"Upgrade to PRO"}),"."]})}),(0,j.jsxs)("div",{className:c()("p-4 rounded shadow-none mb-4 w-full",w?"bg-gray-800":"bg-white"),children:[!S.resultImages&&(0,j.jsxs)("div",{className:"w-full h-44 bg-center bg-no-repeat bg-[length:400px_300px]",style:{backgroundImage:"url(".concat(v,")"),backgroundColor:"#E9E9EB"},children:[(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),"Loading..."]}),null===(a=S.resultImages)||void 0===a?void 0:a.map(((e,t)=>{var a,n;return(0,j.jsxs)(d.Z,{gutter:[24,24],children:[e.addition&&(0,j.jsx)(u.Z,{span:24,className:"",children:(0,j.jsx)("p",{className:c()("mb-0 text-left p-2 border-l-4 border-0 border-solid rounded-r-full",w?"border-l-gray-300 bg-gray-700 text-gray-300":"border-l-gray-500 bg-gray-100 text-gray-700"),children:e.addition})}),(0,j.jsx)(u.Z,{span:24,children:(0,j.jsx)("div",{children:(null===(a=e.urls)||void 0===a?void 0:a.length)>0&&(0,j.jsx)(m.Z.PreviewGroup,{children:(0,j.jsx)(d.Z,{gutter:[12,12],children:null===(n=e.urls)||void 0===n?void 0:n.map(((e,a)=>(0,j.jsx)(u.Z,{span:6,children:(0,j.jsx)(m.Z,{src:"".concat(p.Z.SOCKET_URL,"/image/").concat(e.split("/")[e.split("/").length-2],"/").concat(e.split("/")[e.split("/").length-1],"?w=170&h=170"),preview:{src:"".concat(e)},width:"100%"})},"".concat(t,"_").concat(a))))})})})}),"completed"!==e.status&&"failed"!==e.status&&(e.parent?S.resultImages.filter((t=>t.imageId==e.parent))[0].urls.length>0&&t>10?S.resultImages.filter((t=>t.imageId==e.parent))[0].urls.map(((a,n)=>{var l,i,s;return(0,j.jsx)(u.Z,{span:6,children:(0,j.jsxs)("div",{className:"relative flex justify-center items-center flex-col bg-gray-200",children:[(0,j.jsx)("div",{className:"relative overflow-hidden",children:(0,j.jsx)(m.Z,{src:"".concat(null!==(l=W[e.imageId])&&void 0!==l&&l.url?W[e.imageId].url:a),preview:!1,fallback:S.inputImages[0].path.includes("https://")?"".concat(S.inputImages[0].path):"".concat(p.Z.SOCKET_URL).concat(S.inputImages[0].path),className:"transition-[filter] duration-1000 ease-in-out w-full clip_".concat(null!==(i=H[e.imageId])&&void 0!==i&&i.url?n:""),alt:"product",style:{filter:"blur(".concat(null!==(s=H[e.imageId])&&void 0!==s&&s.url?"2px":"23px",")")}})}),(0,j.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center flex-col",children:[(0,j.jsx)("span",{className:"loader"}),(0,j.jsx)("p",{className:"mb-0 text-white mt-2",children:W[e.imageId]?"".concat(W[e.imageId].status).concat("generating"==W[e.imageId].status?" (".concat(W[e.imageId].progress,"%)"):"","..."):"".concat(e.status,"...")})]})]})},"".concat(t,"_").concat(n))})):new Array(4).fill(S.inputImages[0].path.includes("https://")?"".concat(S.inputImages[0].path):"".concat(p.Z.SOCKET_URL).concat(S.inputImages[0].path)).map(((a,n)=>{var l,i,s;return(0,j.jsx)(u.Z,{span:6,children:(0,j.jsxs)("div",{className:"relative flex justify-center items-center flex-col bg-gray-200",children:[(0,j.jsx)("div",{className:"relative overflow-hidden",children:(0,j.jsx)(m.Z,{src:"".concat(null!==(l=W[e.imageId])&&void 0!==l&&l.url?W[e.imageId].url:a),preview:!1,fallback:S.inputImages[0].path.includes("https://")?"".concat(S.inputImages[0].path):"".concat(p.Z.SOCKET_URL).concat(S.inputImages[0].path),className:"transition-[filter] duration-1000 ease-in-out w-full clip_".concat(null!==(i=H[e.imageId])&&void 0!==i&&i.url?n:""),alt:"product",style:{filter:"blur(".concat(null!==(s=H[e.imageId])&&void 0!==s&&s.url?"2px":"23px",")")}})}),(0,j.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center flex-col",children:[(0,j.jsx)("div",{className:"loader"}),(0,j.jsx)("p",{className:"mb-0 text-white mt-2",children:W[e.imageId]?"".concat(W[e.imageId].status).concat("generating"==W[e.imageId].status?" (".concat(W[e.imageId].progress,"%)"):"","..."):"".concat(e.status,"...")})]})]})},"".concat(t,"_").concat(n))})):new Array(4).fill(0).map(((a,n)=>{var l,i,s;return(0,j.jsx)(u.Z,{span:6,children:(0,j.jsxs)("div",{className:"flex justify-center items-center flex-col bg-gray-200 relative",children:[(0,j.jsx)("div",{className:"relative overflow-hidden",children:(0,j.jsx)(m.Z,{src:"".concat((null===(l=W[e.imageId])||void 0===l?void 0:l.url)||(S.inputImages[0].path.includes("https://")?"".concat(S.inputImages[0].path):"".concat(p.Z.SOCKET_URL).concat(S.inputImages[0].path))),preview:!1,fallback:S.inputImages[0].path.includes("https://")?"".concat(S.inputImages[0].path):"".concat(p.Z.SOCKET_URL).concat(S.inputImages[0].path),className:"transition-[filter] duration-1000 ease-in-out w-full clip_".concat(null!==(i=H[e.imageId])&&void 0!==i&&i.url?n:""),alt:"product",style:{filter:"blur(".concat(null!==(s=H[e.imageId])&&void 0!==s&&s.url?"2px":"23px",")")}})}),(0,j.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center flex-col",children:[(0,j.jsx)("div",{className:"loader"}),(0,j.jsx)("p",{className:"mb-0 text-white mt-2",children:W[e.imageId]?"".concat(W[e.imageId].status).concat("generating"==W[e.imageId].status?" (".concat(W[e.imageId].progress,"%)"):"","..."):"".concat(e.status,"...")})]})]})},"".concat(t,"_").concat(n))}))),"failed"==e.status&&new Array(4).fill(0).map(((e,a)=>(0,j.jsx)(u.Z,{span:6,children:(0,j.jsx)("div",{className:"flex justify-center items-center flex-col bg-gray-200  p-5",children:(0,j.jsx)("p",{className:"mb-0",children:"Failed"})})},"".concat(t,"_").concat(a)))),(0,j.jsxs)(u.Z,{span:24,children:[(0,j.jsx)(I,{placeholder:y[t]?"":"Describe what you want to add, change, or remove from your initial renderings",autoSize:{maxRows:5},value:y[t]?R[t]:B[t],onChange:e=>{if(y[t]){let a=[...R];a[t]=e.target.value,G(a)}else{let a=[...B];a[t]=e.target.value,L(a)}},disabled:"completed"!=e.status&&"failed"!=e.status}),(0,j.jsx)("div",{className:"mt-1 text-right",children:(0,j.jsx)(g.ZP,{type:"text",disabled:"completed"!=e.status&&"failed"!=e.status,onClick:()=>{N((e=>{let a=[...e];return a[t]=!a[t],[...a]}))},children:y[t]?"Basic Mode":"Advanced"})}),(0,j.jsx)("div",{className:"text-center mb-4",children:(0,j.jsx)(g.ZP,{disabled:"completed"!=e.status&&"failed"!=e.status||O==t,type:"primary",size:"",onClick:()=>(async(e,t)=>{_(t);try{let a=await(0,x.ON)(o,{keywords:y[t]?R[t]:B[t],imageId:e,isAdvanced:y[t]});E(a.data.concept)}catch(a){console.log(a)}_(-1)})(e.imageId,t),loading:O==t,children:"Generate"})}),(0,j.jsx)(h.Z,{})]}),0==t&&(0,j.jsx)(u.Z,{span:24,children:(0,j.jsx)("div",{className:"bg-black text-white p-2 mb-4 rounded text-lg",children:"We've automatically created 10 versions of your initial image to show you what is possible. Read the text in purple to see the changes we told the AI to make for each version."})})]},t)})),1==(null===(s=S.resultImages)||void 0===s?void 0:s.length)&&new Array(10).fill(0).map(((e,t)=>(0,j.jsxs)(d.Z,{gutter:[24,24],children:[new Array(4).fill(0).map(((e,a)=>(0,j.jsx)(u.Z,{span:6,children:(0,j.jsxs)("div",{className:"flex justify-center items-center flex-col bg-gray-200 relative",children:[(0,j.jsx)("img",{src:S.inputImages[0].path.includes("https://")?"".concat(S.inputImages[0].path):"".concat(p.Z.SOCKET_URL).concat(S.inputImages[0].path),className:"w-full blur-xl",alt:"product"}),(0,j.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center flex-col",children:[(0,j.jsx)("div",{className:"loader"}),(0,j.jsx)("p",{className:"mb-0 text-white mt-2",children:"processing..."})]})]})},"".concat(t,"_").concat(a)))),(0,j.jsxs)(u.Z,{span:24,children:[(0,j.jsx)(I,{placeholder:"Describe what you want to add, change, or remove from your initial renderings",autoSize:{maxRows:5},disabled:!0}),(0,j.jsx)("div",{className:"mt-1 text-right",children:(0,j.jsx)(g.ZP,{type:"text",disabled:!0,children:"Advanced"})}),(0,j.jsx)("div",{className:"text-center mb-4",children:(0,j.jsx)(g.ZP,{type:"primary",size:"",disabled:!0,children:"Generate"})}),(0,j.jsx)(h.Z,{})]})]},t)))]})]})})}},2752:(e,t,a)=>{a.d(t,{DN:()=>o,Jo:()=>s,ON:()=>c,_I:()=>i,aR:()=>l,mW:()=>r});var n=a(3352);const l=e=>(0,n.j0)("v1/getImageDescription",e),i=e=>(0,n.j0)("v1/deleteFile",e),s=(e,t)=>(0,n.A_)("v1/getConceptById/".concat(e),t),c=(e,t)=>(0,n.j0)("v1/generateImage/".concat(e),t),r=(e,t)=>(0,n.A_)("v1/getProjects/".concat(e||""),t),o=e=>(0,n.j0)("v1/getImagesfromPin",e)},7128:(e,t,a)=>{a.d(t,{Z:()=>h});var n=a(2791),l=a(9809),i=a.n(l),s=a(1929),c=a(5586),r=a(7521),o=a(9867),d=a(9922);const u=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:a,colorSplit:n,lineWidth:l,textPaddingInline:i,orientationMargin:s,verticalMarginInline:o}=e;return{[t]:Object.assign(Object.assign({},(0,r.Wf)(e)),{borderBlockStart:"".concat((0,c.bf)(l)," solid ").concat(n),"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:o,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:"".concat((0,c.bf)(l)," solid ").concat(n)},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:"".concat((0,c.bf)(e.dividerHorizontalGutterMargin)," 0")},["&-horizontal".concat(t,"-with-text")]:{display:"flex",alignItems:"center",margin:"".concat((0,c.bf)(e.dividerHorizontalWithTextGutterMargin)," 0"),color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:"0 ".concat(n),"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:"".concat((0,c.bf)(l)," solid transparent"),borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},["&-horizontal".concat(t,"-with-text-left")]:{"&::before":{width:"calc(".concat(s," * 100%)")},"&::after":{width:"calc(100% - ".concat(s," * 100%)")}},["&-horizontal".concat(t,"-with-text-right")]:{"&::before":{width:"calc(100% - ".concat(s," * 100%)")},"&::after":{width:"calc(".concat(s," * 100%)")}},["".concat(t,"-inner-text")]:{display:"inline-block",paddingBlock:0,paddingInline:i},"&-dashed":{background:"none",borderColor:n,borderStyle:"dashed",borderWidth:"".concat((0,c.bf)(l)," 0 0")},["&-horizontal".concat(t,"-with-text").concat(t,"-dashed")]:{"&::before, &::after":{borderStyle:"dashed none none"}},["&-vertical".concat(t,"-dashed")]:{borderInlineStartWidth:l,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},["&-plain".concat(t,"-with-text")]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},["&-horizontal".concat(t,"-with-text-left").concat(t,"-no-default-orientation-margin-left")]:{"&::before":{width:0},"&::after":{width:"100%"},["".concat(t,"-inner-text")]:{paddingInlineStart:a}},["&-horizontal".concat(t,"-with-text-right").concat(t,"-no-default-orientation-margin-right")]:{"&::before":{width:"100%"},"&::after":{width:0},["".concat(t,"-inner-text")]:{paddingInlineEnd:a}}})}},m=(0,o.I$)("Divider",(e=>{const t=(0,d.TS)(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[u(t)]}),(e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS})),{unitless:{orientationMargin:!0}});var g=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};const h=e=>{const{getPrefixCls:t,direction:a,divider:l}=n.useContext(s.E_),{prefixCls:c,type:r="horizontal",orientation:o="center",orientationMargin:d,className:u,rootClassName:h,children:p,dashed:x,plain:f,style:v}=e,b=g(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),j=t("divider",c),[I,w,y]=m(j),N=o.length>0?"-".concat(o):o,S=!!p,E="left"===o&&null!=d,Z="right"===o&&null!=d,k=i()(j,null===l||void 0===l?void 0:l.className,w,y,"".concat(j,"-").concat(r),{["".concat(j,"-with-text")]:S,["".concat(j,"-with-text").concat(N)]:S,["".concat(j,"-dashed")]:!!x,["".concat(j,"-plain")]:!!f,["".concat(j,"-rtl")]:"rtl"===a,["".concat(j,"-no-default-orientation-margin-left")]:E,["".concat(j,"-no-default-orientation-margin-right")]:Z},u,h),O=n.useMemo((()=>"number"===typeof d?d:/^\d+$/.test(d)?Number(d):d),[d]),_=Object.assign(Object.assign({},E&&{marginLeft:O}),Z&&{marginRight:O});return I(n.createElement("div",Object.assign({className:k,style:Object.assign(Object.assign({},null===l||void 0===l?void 0:l.style),v)},b,{role:"separator"}),p&&"vertical"!==r&&n.createElement("span",{className:"".concat(j,"-inner-text"),style:_},p)))}}}]);
//# sourceMappingURL=609.ba4ee857.chunk.js.map