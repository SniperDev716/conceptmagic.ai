"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[682],{4682:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var n=s(2791),a=(s(9434),s(7689)),c=s(763),l=s.n(c),i=s(586),r=s(3655),o=s(6517),d=s(6106),p=s(914),h=s(2242),x=s(7309),g=s(6110),u=s(8704),m=(s(8868),s(5169)),j=s(2752),v=s(184);const{Content:f,Sider:w}=i.default,{Title:N,Text:b}=r.default,{Dragger:k}=o.default,Z=[188,13,32];const y=function(){var e,t;const s=(0,a.s0)(),{id:c}=(0,a.UO)(),[i,r]=(0,n.useState)({}),[o,f]=(0,n.useState)(!1),[w,b]=(0,n.useState)([]),[k,y]=(0,n.useState)({});(0,n.useEffect)((()=>{(0,j.Jo)(c).then((e=>{r(e.data.concept)})).catch((e=>{console.log(e)}))}),[]);const C=e=>{b([...w,e])};return(0,v.jsx)("div",{className:"text-center max-w-5xl w-screen mx-auto p-2",children:(0,v.jsxs)(d.Z,{gutter:[32,32],className:"mt-6",children:[(0,v.jsx)(p.Z,{span:24,children:(0,v.jsxs)(N,{level:2,children:["Click to ",(0,v.jsxs)("span",{className:"bg-green-200 relative",children:["select",(0,v.jsx)("span",{className:"text-lg absolute top-[-15px] right-[-15px]",children:(0,v.jsx)(g.Z,{twoToneColor:"red"})})]})," the keywords that best describe what you want to create."]})}),(0,v.jsx)(p.Z,{span:24,children:(0,v.jsx)("div",{className:"border-1 border-solid border-gray-200 rounded p-2 text-left",children:(0,v.jsx)(u.V,{tags:w,suggestions:l().uniq(null===(e=i.inputImages)||void 0===e?void 0:e.map((e=>e.desc)).join(" ").split(" ")).filter((e=>e.length>2)).map((e=>({id:e,text:e}))),delimiters:Z,handleDelete:e=>{b(w.filter(((t,s)=>s!==e)))},handleAddition:C,handleDrag:(e,t,s)=>{const n=w.slice();n.splice(t,1),n.splice(s,0,e),b(n)},placeholder:"Please input prompt",inputFieldPosition:"inline"})})}),null===(t=i.inputImages)||void 0===t?void 0:t.map(((e,t)=>(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(p.Z,{span:6,children:(0,v.jsx)(h.Z,{src:"".concat(m.Z.SOCKET_URL).concat(e.path),width:"100%"})}),(0,v.jsx)(p.Z,{span:18,children:(0,v.jsx)("p",{className:"break-words text-lg text-left",children:e.desc.split(" ").map(((e,s)=>(0,v.jsx)("span",{className:"group/item mr-1 hover:bg-green-200 cursor-pointer relative",onClick:()=>C(e),children:e},"desc_".concat(t,"_").concat(s))))})})]},t))),(0,v.jsx)(p.Z,{span:24,children:(0,v.jsx)("div",{className:"text-center",children:(0,v.jsx)(x.ZP,{type:"primary",size:"large",onClick:async()=>{f(!0);try{let e=await(0,j.ON)(c,{keywords:w.map((e=>e.text)).join(" ")});console.log(e),s("/result/".concat(c))}catch(e){console.log(e)}f(!1)},loading:o,children:"Next step"})})})]})})}},2752:(e,t,s)=>{s.d(t,{DN:()=>o,Jo:()=>l,ON:()=>i,_I:()=>c,aR:()=>a,mW:()=>r});var n=s(3352);const a=e=>(0,n.j0)("v1/getImageDescription",e),c=e=>(0,n.j0)("v1/deleteFile",e),l=(e,t)=>(0,n.A_)("v1/getConceptById/".concat(e),t),i=(e,t)=>(0,n.j0)("v1/generateImage/".concat(e),t),r=(e,t)=>(0,n.A_)("v1/getProjects/".concat(e||""),t),o=e=>(0,n.j0)("v1/getImagesfromPin",e)}}]);
//# sourceMappingURL=682.a53f84ae.chunk.js.map